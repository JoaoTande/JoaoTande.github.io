    <html>  
    <head>

<script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>
<script src="https://code.highcharts.com/modules/export-data.js"></script>

<div id="container" style="min-width: 310px; height: 400px; margin: 0 auto"></div>

  
    <script type="text/javascript" src="message.js"></script>
    <script type="text/javascript" src="graphJ.js"></script>  
    </head>  
    <body>  
    <p>Welcome to JavaScript hahahah</p>  
    <p id="demo"> jj </p>
    <form>  
    <input type="button" value="click" onclick="msg()"/>  



    </form>  

<script>
var xmlhttp = new XMLHttpRequest();
xmlhttp.onreadystatechange = function() {
  if (this.readyState == 4 && this.status == 200) {
    var myObj = JSON.parse(this.responseText);
    var serie = myObj["Time Series (5min)"];
    
    var listaJ = [];
    for(x in serie){
     listaJ.unshift([x, parseFloat(serie[x]["4. close"])]);
    }

    


    
    chartJoao(listaJ);
    for(x in listaJ){
    	document.getElementById("demo").innerHTML += listaJ[x][0] + " " + listaJ[x][1] + "<p></p>";
    
    }

  }
};
xmlhttp.open("GET", "https://www.alphavantage.co/query?function=TIME_SERIES_INTRADAY&symbol=VALE3.SA&interval=5min&apikey=PN6ZAMT6VK4BZTFU", true);
xmlhttp.send();

function chartJoao(data) {

    Highcharts.chart('container', {
      chart: { zoomType: 'x'},
      title: {text: 'USD to EUR exchange rate over time'},
      subtitle: {text: document.ontouchstart === undefined ?'Click and drag in the plot area to zoom in' : 'Pinch the chart to zoom in'},
      xAxis: {type: 'datetime'},
      yAxis: {title: {text: 'Exchange rate'}},
      legend: {enabled: false},
      plotOptions: {
        area: {
          fillColor: {
            linearGradient: {
              x1: 0,
              y1: 0,
              x2: 0,
              y2: 1},


            stops: [[0, Highcharts.getOptions().colors[0]],[1, Highcharts.Color(Highcharts.getOptions().colors[0]).setOpacity(0).get('rgba')]]},
          marker: {
            radius: 2
          },
          lineWidth: 1,
          states: {
            hover: {
              lineWidth: 1
            }
          },
          threshold: null
        }
      },

      series: [{
        type: 'area',
        name: 'R$',
        data: data
      }]
    });
  }

</script>

    </body>  
    </html>  
